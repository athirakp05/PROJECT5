<style>/* Style for the form */
 /* General Styles */
body {
  font-family: Arial, sans-serif;
  background-color: #f5f5f5;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
}

.container {
  max-width: 800px;
  margin: 0 auto;
  background-color: #fff;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

form {
  margin: 20px 0;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

input[type="text"],
select {
  width: calc(100% - 12px);
  padding: 8px;
  margin-bottom: 10px;
  border: 1px solid #ccc;
  border-radius: 3px;
  box-sizing: border-box;
}

input[type="submit"] {
  margin-top: 10px;
  padding: 10px 20px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 3px;
  cursor: pointer;
  font-size: 16px;
}

input[type="submit"]:hover {
  background-color: #45a049;
}

.checkbox-group {
  margin-bottom: 10px;
}

.checkbox-group label {
  display: inline-block;
  margin-right: 15px;
}

.checkbox-content {
  display: none;
  margin-top: 10px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 5px;
  background-color: #fff;
}

  </style>

  <form method="POST" enctype="multipart/form-data" id="cattleForm">
    {% csrf_token %}
  
    <label for="id_cattle_license">Cattle license:</label><br>
    <input type="text" id="id_cattle_license" name="cattle_license" pattern="C-\d{4}" title="Format: C-XXXX (4 digits after hyphen)" required><br><br>
  
    <label for="id_EarTagID">EarTagID:</label><br>
    <input type="text" id="id_EarTagID" name="EarTagID" pattern="\d{5}" title="Should be 5 digits" required><br><br>
  
    <label for="id_CattleType">CattleType:</label><br>
    {{ cattle_form.CattleType }}<br><br>
  
    <label for="id_BreedName">BreedName:</label><br>
    {{ cattle_form.BreedName }}<br><br>
  
    <label for="id_weight">Weight:</label><br>
    {{ cattle_form.weight }}<br><br>
  
    <label for="id_height">Height:</label><br>
    {{ cattle_form.height }}<br><br>
  
    <label for="id_Age">Age:</label><br>
    {{ cattle_form.Age }}<br><br>
  
    <label for="id_Colour">Colour:</label><br>
    {{ cattle_form.Colour }}<br><br>
  
    <label for="id_feed">Feed:</label><br>
    {{ cattle_form.feed }}<br><br>
  
    <label for="id_milk_obtained">Milk obtained/day:</label><br>
    {{ cattle_form.milk_obtained }}<br><br>
  
    <label for="id_photo">Photo:</label><br>
    {{ cattle_form.photo }}<br><br>
    <input type="checkbox" id="vaccination_checkbox" name="vaccination_checkbox">
    <label for="vaccination_checkbox">Vaccination</label><br>
    <div id="vaccination_form" style="display: none;">
      {{ vaccination_form.as_p }}
    </div>
    <input type="checkbox" id="insurance_checkbox" name="insurance_checkbox">
    <label for="insurance_checkbox">Insurance</label><br>
    <div id="insurance_form" style="display: none;">
      {{ insurance_form.as_p }}
    </div>
  <input type="submit" value="Save">
</form>

<script>
document.getElementById('vaccination_checkbox').addEventListener('change', function() {
  var vaccinationForm = document.getElementById('vaccination_form');
  if (this.checked) {
    vaccinationForm.style.display = 'block';
  } else {
    vaccinationForm.style.display = 'none';
  }
});

document.getElementById('insurance_checkbox').addEventListener('change', function() {
  var insuranceForm = document.getElementById('insurance_form');
  if (this.checked) {
    insuranceForm.style.display = 'block';
  } else {
    insuranceForm.style.display = 'none';
  }
});

$(document).ready(function() {
  // Fetch breeds based on selected cattle type
  $('#id_CattleType').change(function() {
    var cattleType = $(this).val();
    $.ajax({
      url: '/fetch_breeds/',  // URL to fetch breeds based on cattle type
      type: 'GET',
      data: {
        'cattleType': cattleType
      },
      dataType: 'json',
      success: function(data) {
        var breedsSelect = $('#id_BreedName');
        breedsSelect.empty();
        $.each(data.breeds, function(key, value) {
          breedsSelect.append($('<option></option>').attr('value', value).text(value));
        });
      }
    });
  });
});
</script>
