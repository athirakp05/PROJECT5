<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Cattle Form</title>
    <style>
        /* Internal CSS for styling */
        form {
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        select, input[type="text"], input[type="radio"], input[type="submit"] {
            margin: 10px;
        }

        div {
            display: none;
        }

        input[type="radio"]:checked ~ div {
            display: block;
        }
        /* Internal CSS for styling */
form {
    margin: 20px;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
    width: 300px; /* Adjust the width as needed */
    margin: 0 auto; /* Center the form horizontally */
    background-color: #f9f9f9;
}

select, input[type="text"], input[type="radio"], input[type="submit"] {
    margin: 10px;
    width: 100%;
    padding: 5px;
    border: 1px solid #ccc;
    border-radius: 3px;
}

label {
    display: block; /* Place labels on their own line */
}

div {
    display: none;
    margin: 10px 0; /* Add space between sections */
}

input[type="radio"]:checked ~ div {
    display: block;
}

/* Style for the breed dropdown */
#id_breed_name {
    /* Add specific styles for the breed dropdown */
    width: 100%;
}

/* Add styles for the save button */
input[type="submit"] {
    background-color: #007bff; /* Customize the button color */
    color: #fff;
    cursor: pointer;
    border: none;
    padding: 10px;
    border-radius: 3px;
    font-weight: bold;
}

/* Add hover effect for the button */
input[type="submit"]:hover {
    background-color: #0056b3; /* Change the color on hover */
}

    </style>
</head>
<body>
    <!-- AddCattleForm template -->
    <form id="add-cattle-form" method="POST" action="{% url 'add_cattle' %}" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <div id="breed-div">
            <select id="id_breed_name" name="breed_name">
                <!-- Options will be populated dynamically using JavaScript -->
            </select>
        </div>
        <div>
            <label for="id_disabilities">Disabilities:</label>
            <input type="radio" name="disabilities" id="id_disabilities_0" value="0"> No
            <input type="radio" name="disabilities" id="id_disabilities_1" value="1"> Yes
        </div>
        <div id="insurance-details-div">
            {{ form.insurance_provider }}
            {{ form.policy_number }}
            <!-- Other insurance fields -->
        </div>
        <div id="vaccination-details-div">
            {{ form.vaccination_name }}
            {{ form.date_administered }}
            {{ form.next_due_date }}
            <!-- Other vaccination fields -->
        </div>
        <input type="submit" value="Save">
    </form>

    <script>
        // JavaScript to handle dynamic dropdowns and show/hide fields
        const cattleTypeSelect = document.getElementById("id_cattle_type");
        const breedSelect = document.getElementById("id_breed_name");
        const disabilitiesRadios = document.getElementsByName("disabilities");
        const insuranceRadios = document.getElementsByName("insurance");
        const vaccinationRadios = document.getElementsByName("vaccination");

        // Function to update the breed dropdown based on cattle type
        function updateBreedOptions() {
            // Make an AJAX request to fetch breed options based on cattle type
            const selectedCattleType = cattleTypeSelect.value;
            // Perform an AJAX request to the server to fetch breed options
            // and update the breedSelect options here.
            // You can use fetch or any other AJAX method for this.
        }

        // Event listeners for cattle type dropdown and disabilities radio buttons
        cattleTypeSelect.addEventListener("change", updateBreedOptions);
        disabilitiesRadios.forEach(radio => {
            radio.addEventListener("change", () => {
                if (radio.value === "1") {
                    healthStatusDiv.style.display = "block";
                } else {
                    healthStatusDiv.style.display = "none";
                }
            });
        });

        // Event listeners for insurance and vaccination radio buttons
        insuranceRadios.forEach(radio => {
            radio.addEventListener("change", () => {
                if (radio.value === "1") {
                    insuranceDetailsDiv.style.display = "block";
                } else {
                    insuranceDetailsDiv.style.display = "none";
                }
            });
        });

        vaccinationRadios.forEach(radio => {
            radio.addEventListener("change", () => {
                if (radio.value === "1") {
                    vaccinationDetailsDiv.style.display = "block";
                } else {
                    vaccinationDetailsDiv.style.display = "none";
                }
            });
        });
    </script>
</body>
</html>
